#import "./GetFolderPropsFragment.graphql"
#import "./GetTaskPropsFragment.graphql"

query GetFilteredEntitiesByParent(
  $projectName: String!
  $parentIds: [String!]!
  $assignees: [String!]
  $tags: [String!]
  $statuses: [String!]
  $folderTypes: [String!]
  $attributes: [AttributeFilterInput!]
) {
  project(name: $projectName) {
    name
    folders(
      parentIds: $parentIds
      last: 1000
      assignees: $assignees
      tags: $tags
      statuses: $statuses
      folderTypes: $folderTypes
      attributes: $attributes
    ) {
      edges {
        node {
          ...GetFolderPropsFragment
        }
      }
    }
    tasks (folderIds: $parentIds) {
      edges {
        node {
          ...GetTaskPropsFragment
        }
      }
    }
  }
}
